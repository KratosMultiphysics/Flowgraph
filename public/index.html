<!DOCTYPE html>
<html>
<head>
    <title>Flowgraph</title>

    <!--<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">-->
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;400;900&display=swap">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <link rel="stylesheet" type="text/css" href="css/litegraph/litegraph.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/jvc.css">
    <link rel="stylesheet" type="text/css" href="css/problemtype-editor.css">
    <link rel="stylesheet" type="text/css" href="css/kratos.css">
    <link rel="stylesheet" type="text/css" href="css/highlightjs-copy.min.css">
</head>

<body>
    <div id="main">
        <div class="litegraph litegraph-editor">
            <div class="header">
                <div class="tools tools-left">
                    <span class="selector">
                        <label>
                            <span style='vertical-align: middle;'> Kratos FlowGraph <span class='glyph'>&#xf35a</span></span>
                        </label>
                        <label id='play-graph' class='float-btn btn-blue'>Generate</label>
                        <label id='save-graph' class='float-btn'>Save</label>
                        <label class='float-btn'>Load<input type='file' id='load-graph' style='display:none'></label>
                        <label id='expt-group' class='float-btn'>Export</label>
                        <label class='float-btn'>Import<input type='file' id='impt-group' style='display:none'></label>
                        <label class='float-btn float-btn-left' onclick='openNav()'>Viewer</label>
                        <label class='float-btn float-btn-right' style='min-width:40px' onclick=addViewerNode()>+</label>

                        <!-- Disable KRATOS-LLM connection until we have a stable model -->
                        <!-- <label class='float-btn float-btn-left' onclick='llamaCall()'>KTS-LLM</label>
                        <input id='kratos-llm' class='float-inpt float-inpt-right' style='min-width:120px'></label> -->
                     </span>
                </div>
                <div class="tools tools-right">

                </div>
            </div>

            <div class="content">
                <div class="editor-area">
                    <canvas class="graphcanvas" width="1000" height="500" tabindex=10></canvas>
                </div>
            </div>

            <div class="sidepanel" id="side-viewer" toggled="collapsed">
                <pre id="json-display"></pre>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <script type="text/javascript" src="js/litegraph/litegraph.core.js"></script>
    <script type="text/javascript" src="js/jvc.js"></script>
    <script type="text/javascript" src="js/problemtype-editor.js"></script>
    <script type="text/javascript" src="js/side.js"></script>
    <script type="text/javascript" src="js/highlightjs-copy.min.js"></script>

    <!-- Model Manager -->
    <script type="text/javascript" src="js/utils.js"></script>
    <script type="text/javascript" src="js/model_manager.js"></script>

    <!-- Mods to the base source code of litegraph.js. -->
    <!-- Needs to be done after importing litegraph AND before registering nodes -->
    <!-- Maybe ask to merge in the main lib when they are mature -->
    <script type="text/javascript" src="js/extensions/custom_node_panel.js"></script>
    <script type="text/javascript" src="js/extensions/selection_import.js"></script>
    <script type="text/javascript" src="js/extensions/extended_menu.js"></script>
    <script type="text/javascript" src="js/extensions/remove_widget.js"></script>
    <script type="text/javascript" src="js/extensions/draw_widget.js"></script>
    <script type="text/javascript" src="js/extensions/draw_node.js"></script>

    <script type="text/javascript" src="js/jszip.js"></script>
    <script type="text/javascript" src="js/problem_manager.js"></script>

    <!-- Databases -->
    <script type="text/javascript" src="js/db/elements.js"></script>
    <script type="text/javascript" src="js/db/conditions.js"></script>

    <!-- Base nodes from litegrapg.js -->
    <script type="text/javascript" src="js/nodes/base.js"></script>

    <!-- Nodes -->
    <script type="text/javascript" src="js/nodes/utilities/error_handler.js"></script>
    <script type="text/javascript" src="js/nodes/utilities/input_list.js"></script>
    <script type="text/javascript" src="js/nodes/utilities/key_value.js"></script>
    <script type="text/javascript" src="js/nodes/utilities/input_map.js"></script>

    <!-- Kratos -->
    <script type="text/javascript" src="js/nodes/ModelParts/read_mdpa.js"></script>
    <script type="module" src="js/nodes/ModelParts/read_med.js"></script>
    <script type="text/javascript" src="js/nodes/ModelParts/model_import_settings.js"></script>

    <script type="text/javascript" src="js/nodes/materials/material_import_settings.js"></script>

    <script type="text/javascript" src="js/nodes/selectors/element_selector.js"></script>
    <script type="text/javascript" src="js/nodes/selectors/condition_selector.js"></script>

    <script type="text/javascript" src="js/nodes/IO/assign_material_to_modelpart.js"></script>
    <script type="text/javascript" src="js/nodes/IO/combine_materials_and_modelparts.js"></script>
    <script type="text/javascript" src="js/nodes/IO/parse_model_part.js"></script>
    <script type="text/javascript" src="js/nodes/IO/parse_materials_file.js"></script>
    <script type="text/javascript" src="js/nodes/IO/output_view.js"></script>
    <script type="text/javascript" src="js/nodes/IO/export_case.js"></script>
    <script type="text/javascript" src="js/nodes/IO/run_problem.js"></script>

    <!-- Stages -->
    <script type="text/javascript" src="js/nodes/analysis_stages/base/analysis_stage.js"></script>
    <script type="text/javascript" src="js/nodes/analysis_stages/components/problem_data.js"></script>
    <script type="text/javascript" src="js/nodes/analysis_stages/components/stage_preprocess.js"></script>
    <script type="text/javascript" src="js/nodes/analysis_stages/components/stage_postprocess.js"></script>
    <script type="text/javascript" src="js/nodes/analysis_stages/convection_diffusion_analysis.js"></script>
    <script type="text/javascript" src="js/nodes/analysis_stages/structural_mechanics_analysis.js"></script>
    <script type="text/javascript" src="js/nodes/analysis_stages/fluid_dynamics_analysis.js"></script>
    <script type="text/javascript" src="js/nodes/analysis_stages/potential_flow_analysis.js"></script>
    <script type="text/javascript" src="js/nodes/analysis_stages/fsi_analysis.js"></script>

    <!-- Orchestrators -->
    <script type="text/javascript" src="js/nodes/orchestrators/base/orchestrator.js"></script>
    <script type="text/javascript" src="js/nodes/orchestrators/sequential_orchestrator.js"></script>

    <!-- Materials -->
    <script type="text/javascript" src="js/nodes/IO/list_of_materials.js"></script>
    <script type="text/javascript" src="js/nodes/materials/material.js"></script>
    <script type="text/javascript" src="js/nodes/materials/material_newtonian.js"></script>
    <script type="text/javascript" src="js/nodes/materials/material_writer.js"></script>

    <script type="text/javascript" src="js/demos.js"></script>
    <script type="text/javascript" src="js/code.js"></script>

    <!-- Modelers nodes -->
    <script type="text/javascript" src="js/nodes/modelers/base/modeler.js"></script>
    <script type="text/javascript" src="js/nodes/modelers/list_of_modelers.js"></script>
    <script type="text/javascript" src="js/nodes/modelers/import_mdpa_modeler.js"></script>
    <script type="text/javascript" src="js/nodes/modelers/delete_model_parts_modeler.js"></script>
    <script type="text/javascript" src="js/nodes/modelers/assign_entity_to_modelpart.js"></script>
    <script type="text/javascript" src="js/nodes/modelers/create_entities_from_geometries_modeler.js"></script>

    <!-- Processes nodes (manually added) -->
    <script type="text/javascript" src="js/nodes/processes/process.js"></script>
    <script type="text/javascript" src="js/nodes/processes/apply_inlet_process.js"></script>
    <script type="text/javascript" src="js/nodes/processes/apply_far_field_process.js"></script>
    <script type="text/javascript" src="js/nodes/processes/apply_outlet_process.js"></script>
    <script type="text/javascript" src="js/nodes/processes/apply_no_slip_process.js"></script>
    <script type="text/javascript" src="js/nodes/processes/apply_slip_process.js"></script>
    <script type="text/javascript" src="js/nodes/processes/apply_wall_law_process.js"></script>
    <script type="text/javascript" src="js/nodes/processes/assign_scalar_variable_process.js"></script>
    <script type="text/javascript" src="js/nodes/processes/assign_vector_variable_process.js"></script>
    <script type="text/javascript" src="js/nodes/processes/assign_vector_by_direction_process.js"></script>
    <script type="text/javascript" src="js/nodes/processes/assign_scalar_variable_to_conditions_process.js"></script>
    <script type="text/javascript" src="js/nodes/processes/assign_vector_variable_to_conditions_process.js"></script>
    <script type="text/javascript" src="js/nodes/processes/assign_vector_by_direction_to_condition_process.js"></script>
    <script type="text/javascript" src="js/nodes/processes/assign_flag_process.js"></script>

    <script type="text/javascript" src="js/nodes/processes/define_wake_process_2d.js"></script>

    <script type="text/javascript" src="js/nodes/output_processes/output_process.js"></script>
    <script type="text/javascript" src="js/nodes/output_processes/gid_output.js"></script>

    <!-- Containers, utilities -->
    <script type="text/javascript" src="js/nodes/IO/list_of_processes.js"></script>
    <script type="text/javascript" src="js/nodes/IO/list_of_outputprocesses.js"></script>
    <script type="text/javascript" src="js/nodes/IO/list_of_submodelparts.js"></script>

    <!-- Main componentes of Project Parameters -->
    <script type="text/javascript" src="js/nodes/solvers/time_stepping.js"></script>
    <script type="text/javascript" src="js/nodes/solvers/base/solver.js"></script>
    <script type="text/javascript" src="js/nodes/solvers/linear_solvers/serial/amgcl_serial_solver.js"></script>
    <script type="text/javascript" src="js/nodes/solvers/linear_solvers/serial/bicgstab_solver.js"></script>
    <script type="text/javascript" src="js/nodes/solvers/linear_solvers/serial/cg_solver.js"></script>
    <script type="text/javascript" src="js/nodes/solvers/linear_solvers/serial/sparse_lu_solver.js"></script>
    <script type="text/javascript" src="js/nodes/solvers/linear_solvers/MPI/amgcl_mpi_solver.js"></script>
    <script type="text/javascript" src="js/nodes/solvers/linear_solvers/MPI/ml_solver.js"></script>
    <script type="text/javascript" src="js/nodes/solvers/linear_solvers/MPI/aztec_solver.js"></script>
    <script type="text/javascript" src="js/nodes/solvers/linear_solvers/MPI/amesos_solver.js"></script>
    <script type="text/javascript" src="js/nodes/solvers/convection_diffusion/convection_diffusion_solver.js"></script>
    <script type="text/javascript" src="js/nodes/solvers/fluid_dynamics/fluid_solver.js"></script>
    <script type="text/javascript" src="js/nodes/solvers/fluid_dynamics/navier_stokes_solver_monolithic.js"></script>
    <script type="text/javascript" src="js/nodes/solvers/fluid_dynamics/navier_stokes_solver_fractional.js"></script>
    <script type="text/javascript" src="js/nodes/solvers/fluid_dynamics/fluid_solver_formulations/formulation_monolithic.js"></script>
    <script type="text/javascript" src="js/nodes/solvers/fluid_dynamics/fluid_solver_formulations/formulation_fractional_step.js"></script>
    <script type="text/javascript" src="js/nodes/solvers/potential_flow/potential_flow_solver.js"></script>
    <script type="text/javascript" src="js/nodes/solvers/structural_mechanics/structural_mechanics_solver.js"></script>
</body>
</html>
